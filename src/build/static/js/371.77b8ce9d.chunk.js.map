{"version":3,"file":"static/js/371.77b8ce9d.chunk.js","mappings":"8MAuBA,IApBe,SAAH,GAA6B,IAAvBA,EAAK,EAALA,MAAOC,EAAQ,EAARA,SACjBC,GAAQC,EAAAA,EAAAA,KACRC,GAASC,EAAAA,EAAAA,IAAOH,EAAMI,QAAQC,MACpC,OACE,UAAC,IAAG,CAACC,GAAG,OAAM,WACZ,SAAC,IAAU,CACTC,QAAQ,KACRC,MAAON,EAAOO,KAAK,KACnBC,WAAW,OACXC,GAAI,CAAEC,EAAG,aAAc,SAEtBd,KAEH,SAAC,IAAU,CAACS,QAAQ,KAAKC,MAAON,EAAOW,YAAY,KAAK,SACrDd,MAIT,C,kNCgLA,UAtLc,WACZ,IAAMC,GAAQC,EAAAA,EAAAA,KACRC,GAASC,EAAAA,EAAAA,IAAOH,EAAMI,QAAQC,MAE9BS,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMF,IAAI,IACxCG,GAAQF,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,KAAK,IAC1CC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwBC,EAAAA,EAAAA,UAAS,GAAE,eAA5BC,EAAI,KAAEC,EAAO,KACpB,GAAwBF,EAAAA,EAAAA,WAAS,GAAM,eAAhCG,EAAI,KAAEC,EAAO,KAEdC,EAAgB,WACpBD,GAAQ,EACV,EAEME,EAAe,WACnBF,GAAQ,EACV,EAEMG,EAAO,yCAAG,yFAEC,OADTC,GAAeC,EAAAA,EAAAA,IAAkBX,EAAUJ,EAAKgB,OACtDJ,IAAe,SACTE,EAAa,KAAD,EAClBH,IAAgB,2CACjB,kBALY,mCAOPM,EAAgB,yCAAG,WAAOC,GAAO,8EAGqC,GAF1EV,EAAQU,GACFC,EAAcD,GAAW,EAAI,EAAIA,EAAU,EAC3CJ,GAAeC,EAAAA,EAAAA,IAAkBX,EAAUJ,EAAKgB,MAAOG,GACxC,YAAjBhB,EAAMiB,SAAwBjB,EAAMkB,YAAW,gCAC3CP,EAAa,KAAD,sCAErB,gBAPqB,sCAShBQ,EAAU,CACd,CAAEC,MAAO,MAAOC,WAAY,MAC5B,CACED,MAAO,QACPC,WAAY,aACZC,KAAM,EACNC,cAAe,qBAEjB,CACEH,MAAO,QACPC,WAAY,YACZC,KAAM,EACNC,cAAe,qBAEjB,CACEH,MAAO,QACPC,WAAY,QACZC,KAAM,GAER,CACEF,MAAO,QACPC,WAAY,WACZC,KAAM,GAER,CACEF,MAAO,OACPC,WAAY,eACZC,KAAM,EACNE,WAAY,YAAwB,IAAdC,EAAI,EAAXC,IAAOD,KACpB,OACE,UAAC,IAAG,CACFE,MAAM,MACNhC,EAAE,SACFiC,EAAE,MACFC,QAAQ,OACRC,eAAe,SACfC,gBACW,UAATN,EACIxC,EAAOW,YAAY,KAEjBX,EAAOW,YAAY,KAG3BoC,aAAa,MAAK,UAER,UAATP,IAAoB,SAAC,IAA8B,IAC1C,YAATA,IAAsB,SAAC,IAAoB,IAClC,SAATA,IAAmB,SAAC,IAAoB,KACzC,SAAC,IAAU,CAAClC,MAAON,EAAOO,KAAK,KAAME,GAAI,CAAEuC,GAAI,OAAQ,SACpDR,MAIT,IAgCJ,OA5BAS,EAAAA,EAAAA,YAAU,WAaR,OAZAC,SAAStD,MAAQ,wBAGC,mBAAhBgB,EAAKoB,QAA+C,gBAAhBpB,EAAKoB,QACxB,YAAjBjB,EAAMiB,OAENR,IAGAD,IAGK,WAAQ,CAEjB,GAAG,CACDX,EAAKgB,MAAOhB,EAAKuC,KAAMvC,EAAKoB,OAAQjB,EAAMiB,UAG5CiB,EAAAA,EAAAA,YAAU,WAKR,MAJqB,SAAjBlC,EAAMiB,QACRP,IAGK,WAAQ,CAEjB,GAAG,CAACb,EAAKgB,MAAOb,EAAMiB,UAGpB,UAAC,IAAG,CAACtB,EAAE,OAAM,WACX,SAAC,IAAQ,CACPD,GAAI,CAAEH,MAAO,OAAQ8C,OAAQ,SAACtD,GAAK,OAAKA,EAAMsD,OAAOC,OAAS,CAAC,GAC/DhC,KAAMA,EAAK,UAEX,SAAC,IAAgB,CAACf,MAAM,eAG1B,SAAC,IAAM,CAACV,MAAM,QAAQC,SAAS,wBAC/B,SAAC,IAAG,CACFa,EAAE,aACF4C,OAAO,OACP7C,GAAI,CACF,sBAAuB,CACrB8C,OAAQ,QAEV,sBAAuB,CACrBC,aAAc,QAEhB,uBAAwB,CACtBlD,MAAON,EAAOW,YAAY,MAE5B,+BAAgC,CAC9BmC,gBAAiB9C,EAAOyD,WAAW,KACnCD,aAAc,QAEhB,iCAAkC,CAChCV,gBAAiB9C,EAAO0D,QAAQ,MAElC,iCAAkC,CAChCC,UAAW,OACXb,gBAAiB9C,EAAOyD,WAAW,MAErC,sBAAuB,CACrBnD,MAAM,GAAD,OAAKN,EAAOW,YAAY,KAAI,iBAEnC,SAGiB,YAAjBI,EAAMiB,SACJ,SAAC,IAAQ,CACP4B,KAAM7C,EAAM8C,QACZ3B,QAASA,EACT4B,SAAU/C,EAAMgD,WAAahD,EAAMiD,MACnCC,YAAU,EACVC,eAAe,SACfC,SAAUpD,EAAMiD,MAChBI,mBAAoB,CAACrD,EAAMiD,OAC3B7C,KAAMA,EACNkD,aAAcxC,EACdyC,yBAAuB,EACvBC,SAAU,SAAC9B,GAAG,OAAKA,EAAI+B,GAAG,EAC1BC,QAA0B,YAAjB1D,EAAMiB,aAO7B,C","sources":["components/Header.jsx","pages/users/index.jsx"],"sourcesContent":["import { Typography, Box, useTheme } from \"@mui/material\";\nimport { tokens } from \"../theme\";\n\nconst Header = ({ title, subtitle }) => {\n  const theme = useTheme();\n  const colors = tokens(theme.palette.mode);\n  return (\n    <Box mb=\"30px\">\n      <Typography\n        variant=\"h2\"\n        color={colors.grey[100]}\n        fontWeight=\"bold\"\n        sx={{ m: \"0 0 5px 0\" }}\n      >\n        {title}\n      </Typography>\n      <Typography variant=\"h5\" color={colors.greenAccent[400]}>\n        {subtitle}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default Header;\n","import { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Box, Typography, useTheme } from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { tokens } from \"../../theme\";\nimport AdminPanelSettingsOutlinedIcon from \"@mui/icons-material/AdminPanelSettingsOutlined\";\nimport LockOpenOutlinedIcon from \"@mui/icons-material/LockOpenOutlined\";\nimport SecurityOutlinedIcon from \"@mui/icons-material/SecurityOutlined\";\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Header from \"../../components/Header\";\nimport {\n  getAllUsersAction,\n} from '../../redux/actions';\n\nconst Users = () => {\n  const theme = useTheme();\n  const colors = tokens(theme.palette.mode);\n\n  const auth = useSelector((state) => state.auth);\n  const users = useSelector((state) => state.users);\n  const dispatch = useDispatch();\n\n  const [page, setPage] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  const closeBackdrop = () => {\n    setOpen(false);\n  };\n\n  const openBackdrop = () => {\n    setOpen(true);\n  };\n\n  const getData = async () => {\n    const usersPromise = getAllUsersAction(dispatch, auth.token);\n    openBackdrop();\n    await usersPromise;\n    closeBackdrop();\n  }\n\n  const handlePageChange = async (newPage) => {\n    setPage(newPage);\n    const currentPage = newPage <= 0 ? 1 : newPage + 1;\n    const usersPromise = getAllUsersAction(dispatch, auth.token, currentPage);\n    if (users.status !== 'loading' && users.hasNextPage) {\n      await usersPromise;\n    }\n  };\n\n  const columns = [\n    { field: \"_id\", headerName: \"ID\" },\n    {\n      field: \"fname\",\n      headerName: \"First name\",\n      flex: 1,\n      cellClassName: \"name-column--cell\",\n    },\n    {\n      field: \"lname\",\n      headerName: \"Last Name\",\n      flex: 1,\n      cellClassName: \"name-column--cell\",\n    },\n    {\n      field: \"email\",\n      headerName: \"Email\",\n      flex: 1,\n    },\n    {\n      field: \"uname\",\n      headerName: \"Username\",\n      flex: 1,\n    },\n    {\n      field: \"role\",\n      headerName: \"Access Level\",\n      flex: 1,\n      renderCell: ({ row: { role } }) => {\n        return (\n          <Box\n            width=\"60%\"\n            m=\"0 auto\"\n            p=\"5px\"\n            display=\"flex\"\n            justifyContent=\"center\"\n            backgroundColor={\n              role === \"admin\"\n                ? colors.greenAccent[600]\n                : role === \"manager\"\n                  ? colors.greenAccent[700]\n                  : colors.greenAccent[700]\n            }\n            borderRadius=\"4px\"\n          >\n            {role === \"admin\" && <AdminPanelSettingsOutlinedIcon />}\n            {role === \"manager\" && <SecurityOutlinedIcon />}\n            {role === \"user\" && <LockOpenOutlinedIcon />}\n            <Typography color={colors.grey[100]} sx={{ ml: \"5px\" }}>\n              {role}\n            </Typography>\n          </Box>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    document.title = \"Dashboard - All Users\";\n\n    if (\n      auth.status === 'authenticating' || auth.status === 'loadingUser' ||\n      users.status === 'loading'\n    ) {\n      openBackdrop();\n    }\n    else {\n      closeBackdrop();\n    }\n\n    return () => { }\n\n  }, [\n    auth.token, auth.user, auth.status, users.status\n  ]);\n\n  useEffect(() => {\n    if (users.status === 'idle') {\n      getData();\n    }\n\n    return () => { }\n\n  }, [auth.token, users.status]);\n\n  return (\n    <Box m=\"20px\">\n      <Backdrop\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        open={open}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n\n      <Header title=\"USERS\" subtitle=\"Managing the Users\" />\n      <Box\n        m=\"40px 0 0 0\"\n        height=\"75vh\"\n        sx={{\n          \"& .MuiDataGrid-root\": {\n            border: \"none\",\n          },\n          \"& .MuiDataGrid-cell\": {\n            borderBottom: \"none\",\n          },\n          \"& .name-column--cell\": {\n            color: colors.greenAccent[300],\n          },\n          \"& .MuiDataGrid-columnHeaders\": {\n            backgroundColor: colors.blueAccent[700],\n            borderBottom: \"none\",\n          },\n          \"& .MuiDataGrid-virtualScroller\": {\n            backgroundColor: colors.primary[400],\n          },\n          \"& .MuiDataGrid-footerContainer\": {\n            borderTop: \"none\",\n            backgroundColor: colors.blueAccent[700],\n          },\n          \"& .MuiCheckbox-root\": {\n            color: `${colors.greenAccent[200]} !important`,\n          },\n        }}\n      >\n        {\n          users.status === 'success' && (\n            <DataGrid\n              rows={users.results}\n              columns={columns}\n              rowCount={users.totalPages * users.limit}\n              pagination\n              paginationMode=\"server\"\n              pageSize={users.limit}\n              rowsPerPageOptions={[users.limit]}\n              page={page}\n              onPageChange={handlePageChange}\n              disableSelectionOnClick\n              getRowId={(row) => row._id}\n              loading={users.status === 'loading'}\n            />\n          )\n        }\n      </Box>\n    </Box>\n  );\n};\n\nexport default Users;\n"],"names":["title","subtitle","theme","useTheme","colors","tokens","palette","mode","mb","variant","color","grey","fontWeight","sx","m","greenAccent","auth","useSelector","state","users","dispatch","useDispatch","useState","page","setPage","open","setOpen","closeBackdrop","openBackdrop","getData","usersPromise","getAllUsersAction","token","handlePageChange","newPage","currentPage","status","hasNextPage","columns","field","headerName","flex","cellClassName","renderCell","role","row","width","p","display","justifyContent","backgroundColor","borderRadius","ml","useEffect","document","user","zIndex","drawer","height","border","borderBottom","blueAccent","primary","borderTop","rows","results","rowCount","totalPages","limit","pagination","paginationMode","pageSize","rowsPerPageOptions","onPageChange","disableSelectionOnClick","getRowId","_id","loading"],"sourceRoot":""}