"use strict";(self.webpackChunksocial_api_admin_dashboard=self.webpackChunksocial_api_admin_dashboard||[]).push([[820],{38820:function(e,t,n){n.r(t);var r=n(79346),i=n(17374),o=n(61637),a=n(11995),s=n(442),u=n(36283),c=n(30475),l=n(99431),d=n(32948),f=n(70811),p=n(34952),x=n(78781),h=n(1244),m=n(49216),g=n(33448),b=n(59973),v=n(37885),C=n(78143),Z=n(78166);t.default=(0,v.Z)((function(){var e=(0,u.Z)(),t=(0,f.TV)(e.palette.mode),n=(0,s.v9)((function(e){return e.auth})),v=(0,s.v9)((function(e){return e.profileDetails})),w=(0,s.v9)((function(e){return e.posts})),k=(0,s.I0)(),j=(0,m.s0)(),y=(0,a.useState)(0),A=(0,o.Z)(y,2),S=A[0],_=A[1],D=(0,a.useState)(!1),M=(0,o.Z)(D,2),N=M[0],P=M[1],I=function(){P(!1)},T=function(){P(!0)},G=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,b.pu)(k,n.token),T(),e.next=4,t;case 4:I();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(t),i=t<=0?1:t+1,o=(0,b.pu)(k,n.token,i),"loading"===w.status||!w.hasNextPage){e.next=6;break}return e.next=6,o;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{field:"_id",headerName:"ID",flex:1.5},{field:"owner",headerName:"User",flex:1.5},{field:"postType",headerName:"Post Type",flex:1,renderCell:function(e){var t=e.row.postType;return(0,Z.jsx)(c.Z,{children:t})}},{field:"mediaCount",headerName:"Media Files",flex:1,renderCell:function(e){var t=e.row.mediaFiles;return(0,Z.jsx)(c.Z,{children:t.length})}},{field:"visibility",headerName:"Visibility",flex:1,renderCell:function(e){var t=e.row.visibility;return(0,Z.jsx)(c.Z,{children:t})}},{field:"postStatus",headerName:"Status",flex:1,renderCell:function(e){var n=e.row.postStatus;return(0,Z.jsx)(l.Z,{m:"0",p:"2px 6px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"active"===n?t.greenAccent[600]:t.redAccent[600],borderRadius:"4px",children:(0,Z.jsx)(c.Z,{fontSize:"12px",children:n})})}},{field:"createdAt",headerName:"Created At",flex:1,renderCell:function(e){var t=e.row.createdAt;return(0,Z.jsx)(c.Z,{children:t?(0,C.tC)(t):""})}},{field:"edit",headerName:"",flex:1,renderCell:function(e){var n=e.row._id;return(0,Z.jsx)("div",{style:{backgroundColor:t.greenAccent[500],padding:"5px 10px",borderRadius:"4px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){return j("/posts/".concat(n))},children:(0,Z.jsx)(h.Z,{})})}}];return(0,a.useEffect)((function(){return document.title="All Posts | Dashboard","authenticating"===n.status||"loading"===v.status||"loading"===w.status?T():I(),function(){}}),[n.token,v.status,n.status,w.status]),(0,a.useEffect)((function(){return"idle"===w.status&&G(),function(){}}),[n.token,w.status]),(0,Z.jsxs)(l.Z,{m:"20px",mt:"0",width:"100%",children:[(0,Z.jsx)(p.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:N,children:(0,Z.jsx)(x.Z,{color:"inherit"})}),(0,Z.jsx)(g.Z,{title:"POSTS",subtitle:"Managing the Posts"}),(0,Z.jsx)(l.Z,{m:"40px 0 0 0",height:"75vh",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:t.greenAccent[300]},"& .MuiDataGrid-columnHeaders":{backgroundColor:t.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:t.primary[400]},"& .MuiDataGrid-footerContainer":{borderTop:"none",backgroundColor:t.blueAccent[700]},"& .MuiCheckbox-root":{color:"".concat(t.greenAccent[200]," !important")}},children:"success"===w.status&&(0,Z.jsx)(d._,{rows:w.results,columns:O,rowCount:w.totalPages*w.limit,pagination:!0,paginationMode:"server",pageSize:w.limit,rowsPerPageOptions:[w.limit],page:S,onPageChange:z,disableSelectionOnClick:!0,getRowId:function(e){return e._id},loading:"loading"===w.status})})]})}))}}]);
//# sourceMappingURL=820.bc148e96.chunk.js.map